<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:faces="jakarta.faces"
      xmlns:ui="jakarta.faces.facelets"
      xmlns:f="jakarta.faces.core"
      xmlns:h="jakarta.faces.html"
      xmlns:pt="jakarta.faces.passthrough"
      xmlns:cc="jakarta.faces.composite"
      xmlns:c="jakarta.tags.core"
      xmlns:p="primefaces"
      xmlns:fn="jakarta.tags.functions">
<h:head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <title>View Medical Records</title>
    <h:outputStylesheet library="webjars" name="primeflex/3.3.1/primeflex.min.css"/>
    <h:outputStylesheet library="assets" name="css/layout.css"/>
</h:head>
<h:body>

<h:form>
    <h1>Medical Records List</h1>
    <div class="layout-wrapper">
        <div class="layout-content layout-content-inner">
            <div class="m-4 crud-demo">

                <div class="flex justify-content-center flex-wrap">
                    <h1 class="flex align-items-center justify-content-center font-bold">
                        CRUD SPRING BOOT JSF
                    </h1>
                </div>

                <h:dataTable value="#{patientBean.records}" var="r">
			        <h:column>
			            <f:facet name="header">ID</f:facet>
			            #{r.id}
			        </h:column>
			        <h:column>
			            <f:facet name="header">Name</f:facet>
			            #{r.name}
			        </h:column>
			        <h:column>
			            <f:facet name="header">Age</f:facet>
			            #{r.age}
			        </h:column>
			        <h:column>
			            <f:facet name="header">Actions</f:facet>
			            <h:commandLink value="Edit" action="#{patientBean.editRecord(r.id)}" />
			            <h:commandLink value="Delete" action="#{patientBean.deleteRecord(r.id)}" />
			        </h:column>
			    </h:dataTable>
			    <h:commandButton value="Create New Record" action="addRecord.xhtml" />

            </div>
        </div>
    </div>
</h:form>

</h:body>
</html>
